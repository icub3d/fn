<style>
  code {
    display: block;
    white-space: pre-wrap;
  }
</style>
<div class="container">
  <div class="row">
    <div class="col">
      <form>
        <input type="submit" style="display: none" />
        <input type="text" class="form-control" id="board" />
      </form>
    </div>
  </div>
  <code id="solution"></code>
</div>
<script>
  $(document).ready(function() {
    $("#board").focus();

    $("form").submit(function(event) {
      var url = new URL("/fn/sudoku", window.location.origin);
      url.searchParams.append("board", $("#board").val());

      fetch(url)
        .then(response => {
          return response.text();
        })
        .then(data => {
          data = data.replace(/\\n/gm, "\n").replace(/"/g, "");
          $("#solution").text(data);
          let side = "left";
          $("#board").select();
        });
      event.preventDefault();
    });
  });
</script>
